Layout
--------------------------------------------------
|H |"Home"              |      [Timeline]        |
|SR|Scripts/resources   |------------------------|
|x |File 1              |                        |
|y |File 2              |                        |
|z |File 3              |                        |
|  |                    |      [Render]          |
|  |  [Text editor]     |      [Preview]         |
|  |  [or other pane]   |                        |
|  |                    |------------------------|
|? |Settings            |      [control bar]     |
--------------------------------------------------

Scripts / Resources Pane
--------------------------------------------------
|H |+Add                |      [Timeline]        |
|SR| [Script list]      |------------------------|
|x |[Directory listing] |                        |
|y |                    |                        |
|z |                    |                        |
|  |--------------------|      [Render]          |
|  |+Add                |      [Preview]         |
|  |   [Resource list]  |                        |
|  |   [Grid listing]   |------------------------|
|? |                    |      [control bar]     |
--------------------------------------------------

Home pane
--------------------------------------------------
|H | New project        |      [Timeline]        |
|SR| Open project       |------------------------|
|x | Import             |                        |
|y | Export             |                        |
|z | Save               |                        |
|  |                    |      [Render]          |
|  |                    |      [Preview]         |
|  |                    |                        |
|  |                    |------------------------|
|? |                    |      [control bar]     |
--------------------------------------------------

Script pane
--------------------------------------------------
|H |                    |      [Timeline]        |
|SR|                    |------------------------|
|x |  [text editor]     |                        |
|y |                    |                        |
|z |                    |                        |
|  |                    |      [Render]          |
|  |                    |      [Preview]         |
|  |                    |                        |
|  |                    |------------------------|
|? |                    |      [control bar]     |
--------------------------------------------------


- Main idea: Single page web application that can act as a powerful osu storyboard editor

General:
- All layout bars are draggable for resizing
- Light mode and dark mode
  - Tier2: Custom theming / theme files
- Gonna need documentation

Sidebar:
- Tabs are variable size, think about dealing with overflow

Text editor / Scripting:
- Typescript
- Standard Library Functions
- Typing the word "gettime" or something and pressing enter will replace itself
with the current time in the render window
Scripts / resources panel:
- Double clicking a script will open said file in text editor, adding a tab in
the side panel

Timeline:
- Similar to video editing software
- "group by": resources, scripts

Render preview:
- Clicking a resource will highlight the hitbox, anchor, and any sort of path/trajectory
  - How to visualize easing functions?
- Shown resources are "locked" by default, with a right click menu option or keyboard shortcut
  available to "unlock" and allow dragging around or deleting, changes will be reflected in the script
  - "Unlocking" might be a challenge, definitely a 2nd tier feature

Keyboard shortcuts:
- Switch between sidebar tabs (files directory, resources, script)
- Insert current time in render preview
- 

Import/export:
- Import is for images
- Export will export a zip file with all images and the .osb
- Save will download a single file to the user that can be used with "Open project"
  - Need to figure out if this is possible, embedding pictures is pretty much a must
    for usability.

Tech stack:
- Svelte
- Layout: GoldenLayout / Mosaic / React-resizable-panels
- Text editor: Monaco to start, see if I can get performance gains with CodeMirror
               while hooking up the advanced features that Monaco has out of the box
  - Typescript LSP: Monaco has it built in, CodeMirror ?
- Timeline: React Flow / Konva / Custom solution
  - this might be the trickiest to implement without being sluggish,
    wonder if PixiJS can handle this as well?

- Render preview: PixiJS
- File handling: File Access API / JSZip(?)


Additional Features:
- Drag width/height of renderer with reset button to default
- Drag n Drop osz/olz (both seem to be identical) to initialize project
  - Resources will start with every .osu file
    - There will be a default "selected difficulty", which you can change by clicking
    - Drag and drop .osu files, prompt on overwrite
  - Beatmap Info would be nice
- Source map .osb files to lines of code in scripts responsible for its generation.

Questions:
- Does storyboard overwrite BG or let it stand?
- What is WidescreenStoryboard?


TODO List:
- Text Editor
- UI (done progressively, cross bridges as they arise?)
  - Panels: Home, Files, Scripts, Settings/Help
  - Sidebar
  - ControlBar
- Backend (hook pieces togetendereher to enable functionality)
  - Data representation
  - Render / Timeline synchronization/optimization
  - Parsing/compiling: .osb->data & data->.osb
  - Typescript API library for writing
- Timeline



Performance:
- lengths: short: 30 sec, avg: 2-4 mins, long: 6 mins, very long: 10 mins, incredibly long but not unheard of: 30 mins
- commands: long, complex storyboards can well above 500,000 individual command lines
- sprites: looking at potentially hundreds.




Splitting the project up:
- The project is just too much for my tiny brain to manage, so split it up with basic inputs and outputs that
  should theoretically be very simple to link together by matching one's output to another's input.

- Renderer
  - input: active data
  - output: visuals (none)
- Text editor
  - input: text from user
  - output: script
- TS Library
  - input: script
  - output:







Renderer:
- PixiJS
  - Commands via "Filters"
  - "Assetpack" for sprite management?
  - Allows mouse events~
  - Write OSB renderer as a PixiJS extension??